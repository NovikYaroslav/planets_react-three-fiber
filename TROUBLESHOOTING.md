# Troubleshooting VR Issues

## üêõ –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è

### 1. –û—à–∏–±–∫–∞ "Cannot read properties of undefined (reading 'S')"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤–µ—Ä—Å–∏–π `@react-three/fiber`, `@react-three/drei` –∏ `@react-three/xr`

**–†–µ—à–µ–Ω–∏–µ:**

```bash
npm uninstall @react-three/fiber @react-three/drei @react-three/xr
npm install @react-three/fiber@^8.15.0 @react-three/drei@^9.88.0 @react-three/xr@^5.4.0 --legacy-peer-deps
```

### 2. –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ "export 'Controllers' was not found"

**–ü—Ä–∏—á–∏–Ω–∞:** –í –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö `@react-three/xr` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –±—ã–ª –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –≤–µ—Ä—Å–∏–∏ (—Å–º. –≤—ã—à–µ) –∏–ª–∏ –∑–∞–º–µ–Ω–∏—Ç–µ `Controllers` –Ω–∞ `XRControllerComponent`

### 3. VR –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**

- –ë—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç WebXR
- VR —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ
- –ù–µ–æ–±—Ö–æ–¥–∏–º–æ HTTPS —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

**–†–µ—à–µ–Ω–∏—è:**

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Chrome 79+, Firefox 72+, Edge 79+
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ VR –≥–∞—Ä–Ω–∏—Ç—É—Ä–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞
3. –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS

### 4. –ù–∏–∑–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ VR

**–†–µ—à–µ–Ω–∏—è:**

- –£–º–µ–Ω—å—à–∏—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ —Ç–µ–∫—Å—Ç—É—Ä
- –û—Ç–∫–ª—é—á–∏—Ç–µ –ø–æ—Å—Ç-–æ–±—Ä–∞–±–æ—Ç–∫—É
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç—ã–µ 3D –º–æ–¥–µ–ª–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 5. –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

**–†–µ—à–µ–Ω–∏—è:**

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –∑–∞—Ä—è–∂–µ–Ω—ã
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ VR –≥–∞—Ä–Ω–∏—Ç—É—Ä—É
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥—Ä–∞–π–≤–µ—Ä—ã
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –±—Ä–∞—É–∑–µ—Ä

## üîß –°–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –≤–µ—Ä—Å–∏–∏

–î–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

```json
{
  "@react-three/fiber": "^8.15.0",
  "@react-three/drei": "^9.88.0",
  "@react-three/xr": "^5.4.0",
  "three": "^0.170.0"
}
```

## üì± –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

### VR –≥–∞—Ä–Ω–∏—Ç—É—Ä—ã:

- ‚úÖ Oculus Quest / Quest 2 / Quest Pro
- ‚úÖ HTC Vive / Vive Pro
- ‚úÖ Valve Index
- ‚úÖ Windows Mixed Reality
- ‚ö†Ô∏è Google Cardboard (–±–∞–∑–æ–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞)

### –ë—Ä–∞—É–∑–µ—Ä—ã:

- ‚úÖ Chrome 79+
- ‚úÖ Firefox 72+
- ‚úÖ Edge 79+
- ‚ö†Ô∏è Safari 13.1+ (iOS)

## üöÄ –û—Ç–ª–∞–¥–∫–∞

### –í–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–∫–∏:

```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
localStorage.setItem('debug', 'react-three-fiber:*');
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ WebXR –ø–æ–¥–¥–µ—Ä–∂–∫–∏:

```javascript
if ('xr' in navigator) {
  navigator.xr
    .isSessionSupported('immersive-vr')
    .then((supported) => console.log('VR supported:', supported));
}
```

## üìû –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–º–æ—â–∏

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –±—Ä–∞—É–∑–µ—Ä
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è VR —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
